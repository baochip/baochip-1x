# RTL

RTL (Register Transfer Logic) refers to the "source code" for the Baochip-1x. It is mostly written in verilog/systemverilog, with parts derived from SpinalHDL.

## Header Generation

One use of the SoC RTL is automatic header generation and documentation extraction. The following artifacts can be generated directly from the RTL:

- xous-core [header file](https://github.com/betrusted-io/xous-core/blob/main/utralib/src/generated/bao1x.rs).
- A set of [C header files](https://github.com/baochip/baochip-1x/blob/main/rtl/scripts/headergen/output/bao1x_peri.h)
- Partial [SVD file](https://github.com/baochip/baochip-1x/blob/main/rtl/scripts/headergen/output/bao1x_peri.svd) describing the SoC peripherals. The rest of the SVD file is generated by Litex upon compiling the CPU core complex.
- Human-readable [SoC documentation](https://ci.betrusted.io/bao1x/)

Header generation is accomplished by running [`rtl_to_svd.py`](https://github.com/baochip/baochip-1x/blob/main/rtl/scripts/headergen/rtl_to_svd.py) like this:

```python
python3 ./rtl_to_svd.py --path ../../
```

From the `rtl/scripts/headergen` directory. This invocation will automatically generate and place all of the documentation inside the `rtl/scripts/headergen/output` directory. **Note**: the script has a whole pile of dependencies, which are not well documented. Pull requests welcome to help fix that deficiency.



